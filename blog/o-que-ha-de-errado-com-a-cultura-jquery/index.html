<!doctype html><html class="scroll-smooth md:border-[10px] md:border-solid min-h-screen md:border-purple" lang=en><head><meta charset=utf-8><link href="/css/style.css?h=012c5f95ea1463230821" rel=stylesheet><meta content="width=device-width,initial-scale=1" name=viewport><title>O Que Há de Errado com a "Cultura jQuery" | Diéssica Gurskas</title><body class="text-gray-700 font-body antialiased"><div class="bg-blog px-3 md:px-10 min-h-[calc(100vh-16px)] lg:min-h-[calc(100vh-20px)]"><div class="py-12 mb-4 text-center space-x-8 text-md md:text-lg relative z-20"><a class="no-underline font-extrabold hover:border-green hover:border-b-2" href=/>diessi.ca</a><a class="no-underline hover:border-green hover:border-b-2 border-green border-b-2" href=/blog/>Blog</a><a class="no-underline hover:border-green hover:border-b-2" href=/misc/>Misc</a></div><article class="container mx-auto w-full xl:w-1/2 pb-8"><header class="xl:-mx-56 text-center mb-8 md:mb-12"><div class="uppercase tracking-widest opacity-60 mb-4 text-xs">September 20, 2015</div><h1 class="font-extrabold font-display text-3xl md:text-5xl xl:text-6xl text-slate-900">O Que Há de Errado com a "Cultura jQuery"</h1></header><div class="prose prose-sm md:prose 2xl:prose-lg prose-hr:text-red prose-hr:w-48 prose-hr:h-0.5 prose-hr:mx-auto prose-hr:my-4 prose-hr:bg-black prose-hr:opacity-20 prose-hr:border-0 prose-hr:rounded prose-hr:md:my-10 prose-pre:rounded-none prose-blockquote:border-0 prose-blockquote:text-center prose-blockquote:text-xl prose-blockquote:text-current tracking-tight mx-auto prose-headings:text-slate-800 prose-headings:w-max prose-headings:font-display prose-headings:font-extrabold"><p class=summary>Este não é um artigo sobre jQuery. Este é um artigo sobre ferramentas, sim, mas é, principalmente, um artigo sobre <b>análise</b> e o protagonismo do desenvolvedor front-end nesse processo.<h2 id=resumo>Resumo</h2><p><strong>Aplicações variam.</strong> Aprenda a definir a arquitetura da sua aplicação. Aprenda a reconhecer a necessidade de uma SPA (<em>Single Page Application</em>).<p>A “cultura jQuery” te afasta de tudo isso, e, portanto, distancia você do seu papel enquanto desenvolvedor front-end.<hr><h2 id=introducao>Introdução</h2><p>Se existe uma cultura nas agências digitais do Brasil que é unânime, é a cultura do jQuery. Não a cultura de utilizar todo o poder da biblioteca, no entanto, mas o hábito intrínseco de importar o <code>jqueryX.X.X.min.js</code> em todo projeto.<p>(Sim, em 2015.)<p>Sobre o que há de errado, serei sucinta, pois, para esse artigo, espero um público-alvo preguiçoso e acomodado.<h2 id=o-que-ha-de-errado>O que há de errado</h2><p>…em usar jQuery em 2015? O que há de errado em importar jQuery ao iniciar o meu projeto?<p>Analisando superficialmente, <strong>nada</strong>.<p>Mas isso tem dado brecha a uma zona de conforto profunda e, na minha experiência, com raízes difíceis de arrancar. Essa cultura se expande e transcende aquilo que lhe deu origem. Portanto, perceba:<p><strong>Este não é um artigo sobre jQuery.</strong><p>A comunidade de AngularJS é um exemplo de que isso não é sobre jQuery. Muitos migraram dele ao Angular sem abandonar a cultura. O resultado? Bem, muito tem sido dito sobre código Angular legado, que ninguém quer dar manutenção. A escolha errada já foi feita, e isso é demasiadamente penoso para a manutenção de uma aplicação complexa.<p>O fato é que a <strong>cultura não mudou.</strong> Ainda se adota biblioteca ou framework em escala sem pensar duas vezes.<h2 id=aprendendo-a-evitar>Aprendendo a evitar</h2><p><strong>Deve-se saber quando abranger uma visão holística do projeto, e quando separar responsabilidades.</strong><p>A separação de responsabilidades se daria pela análise dos requisitos da aplicação e dos desafios gerados, que trazem consigo o que chamo de “subproblemas” (<em>necessidades que surgem durante a análise do desafio</em>), que devem ser solucionados separadamente. A visão holística ajudaria a estruturar os componentes de forma consistente em um sistema, definindo uma arquitetura.<p>Falando de desenvolvimento front-end moderno (e, portanto, falando de front-end <strong>modular</strong> e de unidades encapsuladas e independentes, os componentes), essa separação de responsabilidades torna-se ainda mais fácil! Vejamos, abaixo, alguns subproblemas que surgem durante a análise de requisitos, apenas para exemplificar o que quero dizer quando trato a decisão de ferramentas como uma solução para um subproblema.<p class=note><p>Os exemplos a seguir não explicam o front-end modular na prática. Adianto, no entanto, ferramentas como <a href=http://browserify.org/>Browserify</a> ou <a href=https://webpack.github.io/>Webpack</a>, que fazem parte do <em>tooling</em> necessário.<h3 id=1-resiquicoes-ajax>1. Resiquições Ajax</h3><p><strong>Subproblema</strong>: escrever Ajax em JavaScript é pouco intuitivo, difícil de ler e escrever.<p><strong>Solução possível</strong>: encapsular, no componente um módulo como <a href=https://github.com/ded/reqwest>Reqwest</a> e <a href=https://github.com/jakutis/httpinvoke>httpinvoke</a>. Você pode, inclusive, utilizar <em>apenas</em> o Ajax do <a href=https://www.npmjs.com/package/jquery>jQuery</a> (e não o jQuery inteiro!).<h3 id=2-manipulacao-excessiva-do-dom>2. Manipulação excessiva do DOM</h3><p><strong>Subproblemas</strong>: manipular DOM com JavaScript pode ser bastante exaustivo. Também, manipular em um nível excessivo é extremamente custoso para a performance da aplicação.<p><strong>Solução possível</strong>: <a href=https://github.com/Matt-Esch/virtual-dom>Virtual DOM</a>, que está embutido em bibliotecas como <a href=https://facebook.github.io/react/>React</a> e <a href=https://lhorie.github.io/mithril/>Mithril</a>. Ou, se precisar mesmo do DOM, considere pacotes como <a href=https://github.com/ded/qwery>qwery</a> ou <a href=https://github.com/bevacqua/dominus>Dominus</a>, junto com <a href=https://www.npmjs.com/package/domready>domready</a>.<p class=note><p>E se precisássemos de Ajax no React, por exemplo? <a href=http://facebook.github.io/react/docs/tutorial.html#getting-started>Este mau exemplo</a> na documentação do React importa o jQuery inteiro. Como você faria? ;-)<h3 id=sobre-arquitetura>Sobre arquitetura</h3><p>Esse tópico deve ser tratado durante a visão holística do projeto, isso é, da aplicação enquanto sistema de componentes. O <strong>subproblema</strong> seria a necessidade de estrutura que uma aplicação requere.<p>Para isso, você não precisa usar aquilo que é tradicional (diretamente: <strong>você não precisa usar MVC</strong>). Existem outras implementações de arquiteturas que não a implementação feita pelo seu framework amado. Existem outras arquiteturas que não <em>Model-View-Controller</em>.<p>Basicamente? Tenha um conhecimento decente de arquiteturas front-end (sugiro abrir a mente com <a href=https://facebook.github.io/react/blog/2014/05/06/flux.html>Flux</a>, que já possui bastante materiais e implementações da arquitetura disponíveís), e não um conhecimento aprofundado de MVC.<h2 id=conclusao>Conclusão</h2><p>Conheça o projeto e saiba como analisar seus requisitos. O resultado deve ser uma descrição explícita da sua aplicação, com subproblemas já reconhecidos e, então, soluções possíveis, todas envolvidas por uma solução possível maior, que é a da arquitetura (definida durante a análise holística). Parece chato, mas vira hábito e acaba funcionando muito bem.<p><strong>Lembre-se de que existem habilidades que a documentação de uma ferramenta <em>nunca</em>_ te ajudará a desenvolver.</strong><p>Com o tempo, você vai saber quando adotar um framework específico em escala, quando optar por bibliotecas monolíticas, e terá, inclusive, seus preferidos a ponto de não ter sempre que definir soluções possíveis para subproblemas que aplicações têm em comum.<p>(Em alguns projetos, você enxergará padrões, por exemplo: <a href=https://github.com/ded/qwery>qwery</a>, <a href=https://www.npmjs.com/package/domready>domready</a> e <a href=https://www.npmjs.com/package/lodash>lodash</a> são usados juntos frequentemente.)<p>Um dia, no entanto, suas ferramentas falharão, outras ferramentas se adaptão melhor à realidade de seus projetos, e, então, o ciclo de análise recomeça. E você já sabe como proceder.<h3 id=seja-curioso>Seja curioso</h3><p>No mais, seja curioso sobre arquiteturas de software, padrões de projeto, <em>tooling</em> — basta ser leitor(a). Seja curioso também sobre opiniões, principalmente quando elas tratam de desafios que ainda não tivemos. A <strong>visão crítica</strong> é ideal para abandonar a cultura jQuery.<p><strong>O estudo permite que as soluções possíveis surjam mais intuitivamente.</strong><p>A prática virá com os desafios, e nesses desafios é que deve entrar o seu protagonismo de apresentar soluções possíveis.<h2 id=notas>Notas</h2><p>Esse é um rascunho de pensamentos que venho acumulando há algum tempo em razão de experiências de trabalho que tive, e confesso que eles podem ter sido apresentados de forma confusa, embora eu tenha me esforçado. Mas isso aqui não era para ser receita de bolo, de verdade! Até mesmo os exemplos citados não devem passar de exemplos.<p>A minha abordagem possui falhas, e uma deles é que exige de quem desenvolve um conhecimento vasto de ferramentas, quando se usava apenas uma para tudo. (Para isso, recomendo um recurso disponível no <a href=https://www.npmjs.com>npm</a> e mecanismos de busca: a busca.)<p>Mas perceba que o conhecimento vasto é apenas de ferramentas. O conhecimento exigido pelas ferramentas em si acaba sendo menor do que o exigido por aquelas <em>all-in-one</em> como jQuery e AngularJS. O fato de encapsularmos dependências considerando a necessidade de cada componente no front-end é um modo de mantermos a curva de aprendizagem fragmentada.<p>De acordo com o que venho experimentando, desenvolver essa mentalidade tem retornado experiências maravilhosas e, inclusive, gerado menos código legado. Basta apenas aplicá-la à Engenharia de Software com bom senso.<h2 id=conteudo-sugerido>Conteúdo sugerido</h2><p>Os complementos abaixo são apenas para despertar a curiosidade em relação aos conceitos apresentados neste artigo, e não devem substituir o estudo necessário para deixar de lado, na prática, a “cultura jQuery”.<ul><li><a href=https://jsperf.com/virtual-dom-vs-real-dom>JSPerf: Real DOM vs Virtual DOM</a><li><a href=http://www.ebaytechblog.com/2014/10/02/dont-build-pages-build-modules/>Don’t Build Pages, Build Modules</a><li><a href=http://www.infoq.com/news/2014/05/facebook-mvc-flux>MVC Does Not Scale, Use Flux Instead</a><li><a href=https://medium.com/@milankinen/good-bye-flux-welcome-bacon-rx-23c71abfb1a7>Goodbye Flux, welcome Bacon/rx?</a><li>E, humildemente, o meu próprio blog, pois pretendo falar mais sobre arquiteturas de aplicação e front-end modular (que adoro!) na teoria e prática.</ul><hr><p><strong>Se você entendeu a razão pela qual a “cultura jQuery” distancia você do seu papel, a mensagem foi entregue com sucesso.</strong></div></article></div></body><script src=/footnotes.js></script>