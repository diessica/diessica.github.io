<!doctype html><html class="scroll-smooth md:border-[10px] md:border-solid min-h-screen md:border-purple" lang=en><head><meta charset=utf-8><link href="/css/style.css?h=012c5f95ea1463230821" rel=stylesheet><meta content="width=device-width,initial-scale=1" name=viewport><title>SVG Images as React Components with Webpack | Diéssica Gurskas</title><body class="text-gray-700 font-body antialiased"><div class="bg-blog px-3 md:px-10 min-h-[calc(100vh-16px)] lg:min-h-[calc(100vh-20px)]"><div class="py-12 mb-4 text-center space-x-8 text-md md:text-lg relative z-20"><a class="no-underline font-extrabold hover:border-green hover:border-b-2" href=/>diessi.ca</a><a class="no-underline hover:border-green hover:border-b-2 border-green border-b-2" href=/blog/>Blog</a><a class="no-underline hover:border-green hover:border-b-2" href=/misc/>Misc</a></div><article class="container mx-auto w-full xl:w-1/2 pb-8"><header class="xl:-mx-56 text-center mb-8 md:mb-12"><div class="uppercase tracking-widest opacity-60 mb-4 text-xs">August 02, 2016</div><h1 class="font-extrabold font-display text-3xl md:text-5xl xl:text-6xl text-slate-900">SVG Images as React Components with Webpack</h1></header><div class="prose prose-sm md:prose 2xl:prose-lg prose-hr:text-red prose-hr:w-48 prose-hr:h-0.5 prose-hr:mx-auto prose-hr:my-4 prose-hr:bg-black prose-hr:opacity-20 prose-hr:border-0 prose-hr:rounded prose-hr:md:my-10 prose-pre:rounded-none prose-blockquote:border-0 prose-blockquote:text-center prose-blockquote:text-xl prose-blockquote:text-current tracking-tight mx-auto prose-headings:text-slate-800 prose-headings:w-max prose-headings:font-display prose-headings:font-extrabold"><p>If you’ve ever tried to load inline SVG (using <a href=https://github.com/sairion/svg-inline-loader>svg-inline-loader</a>) into React, you know it seriously hurts people’s eyes.<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span style=color:#ff79c6>import </span><span style=color:#fff>React </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>IconRemove </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"./icons/remove.svg"</span><span>;
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>RemoveButton </span><span style=color:#ff79c6>= </span><span>() </span><span style=color:#8be9fd;font-style:italic>=> </span><span>(
</span><span>  <</span><span style=color:#ff79c6>button</span><span>>
</span><span>    <</span><span style=color:#ff79c6>div </span><span style=color:#50fa7b>dangerouslySetInnerHTML</span><span style=color:#ff79c6>={</span><span>{ __html: </span><span style=color:#fff>IconRemove </span><span>}</span><span style=color:#ff79c6>} </span><span>/>
</span><span>    <</span><span style=color:#ff79c6>span</span><span>>Remove&LT/</span><span style=color:#ff79c6>span</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>button</span><span>>
</span><span>);
</span></code></pre><p>So what if it looked like this instead?<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span style=color:#ff79c6>import </span><span style=color:#fff>React </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>IconRemove </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"./icons/remove.svg"</span><span>;
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>RemoveButton </span><span style=color:#ff79c6>= </span><span>() </span><span style=color:#8be9fd;font-style:italic>=> </span><span>(
</span><span>  <</span><span style=color:#ff79c6>button</span><span>>
</span><span>    <</span><span style=color:#66d9ef;font-style:italic>IconRemove </span><span>/>
</span><span>    <</span><span style=color:#ff79c6>span</span><span>>Remove&LT/</span><span style=color:#ff79c6>span</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>button</span><span>>
</span><span>);
</span></code></pre><p>Much better, don’t you think?<p>That’s what <a href=https://github.com/jhamlet/svg-react-loader>svg-react-loader</a> does. It <strong>process your SVG file and returns a React component</strong>, which is compiled with Babel (more on this below).<h2 id=using-the-loader>Using the Loader</h2><pre class=language-sh data-lang=sh style=color:#f8f8f2;background-color:#282a36><code class=language-sh data-lang=sh><span style=color:#50fa7b>npm</span><span> install svg-react-loader</span><span style=color:#ffb86c;font-style:italic> --save-dev
</span></code></pre><p class=note><p>Refer to <a href=https://webpack.github.io/docs/using-loaders.html#usage>Webpack docs</a> for more information on loaders usage. Also, make sure you have installed <a href=https://github.com/jhamlet/svg-react-loader#dependencies>svg-react-loader’s dependencies</a>.<h3 id=1-in-module-request>1. In Module Request</h3><p>The simplest method, although the configuration convention is preferred. Using svg-react-loader and <a href=https://github.com/babel/babel-loader>babel-loader</a>, import your icon just like:<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#ff79c6>import </span><span style=color:#fff>IconRemove </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"babel!svg-react!./icons/remove.svg"</span><span>;
</span></code></pre><h3 id=2-in-webpack-config-file-recommended>2. In Webpack Config File (Recommended)</h3><p>Add in your Webpack configuration file’s <code>loaders</code> array.<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span>{
</span><span>  test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>svg</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>  loader: </span><span style=color:#f1fa8c>'babel!svg-react'
</span><span>}
</span></code></pre><p>Import your icon just like:<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#ff79c6>import </span><span style=color:#fff>IconRemove </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"./icons/remove.svg"</span><span>;
</span></code></pre><h2 id=usage-examples>Usage Examples</h2><p>Loader in module request method (1):<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span style=color:#ff79c6>import </span><span style=color:#fff>React </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>IconRemove </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"babel!svg-react!./icons/remove.svg"</span><span>;
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>RemoveButton </span><span style=color:#ff79c6>= </span><span>() </span><span style=color:#8be9fd;font-style:italic>=> </span><span>(
</span><span>  <</span><span style=color:#ff79c6>button</span><span>>
</span><span>    <</span><span style=color:#66d9ef;font-style:italic>IconRemove </span><span>/>
</span><span>    <</span><span style=color:#ff79c6>span</span><span>>Remove&LT/</span><span style=color:#ff79c6>span</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>button</span><span>>
</span><span>);
</span></code></pre><p>Loader in Webpack config file method (2):<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span style=color:#ff79c6>import </span><span style=color:#fff>React </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>IconRemove </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"./icons/remove.svg"</span><span>;
</span><span style=color:#8be9fd;font-style:italic>const </span><span style=color:#50fa7b>RemoveButton </span><span style=color:#ff79c6>= </span><span>() </span><span style=color:#8be9fd;font-style:italic>=> </span><span>(
</span><span>  <</span><span style=color:#ff79c6>button</span><span>>
</span><span>    <</span><span style=color:#66d9ef;font-style:italic>IconRemove </span><span>/>
</span><span>    <</span><span style=color:#ff79c6>span</span><span>>Remove&LT/</span><span style=color:#ff79c6>span</span><span>>
</span><span>  &LT/</span><span style=color:#ff79c6>button</span><span>>
</span><span>);
</span></code></pre><h2 id=a-note-on-svg-loaders>A Note on SVG Loaders</h2><p>Sometimes, we don’t want all of our SVG files to be loaded as React components. If you use a SVG in a <code>img</code> element, for example, it may lead to conflicts. Fortunately, you can avoid them by being more specific in <code>test</code> regular expression:<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span>{
</span><span>  test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>inline</span><span style=color:#bd93f9>.</span><span style=color:#f1fa8c>svg</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>  loader: </span><span style=color:#f1fa8c>'babel!svg-react'
</span><span>},
</span><span>{
</span><span>  test: </span><span style=color:#f1fa8c>/</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>jpe</span><span style=color:#ff79c6>?</span><span style=color:#f1fa8c>g</span><span style=color:#ff79c6>$|\.</span><span style=color:#f1fa8c>gif</span><span style=color:#ff79c6>$|\.</span><span style=color:#f1fa8c>png</span><span style=color:#ff79c6>$|^</span><span style=color:#f1fa8c>(?!</span><span style=color:#bd93f9>.</span><span style=color:#ff79c6>*\.</span><span style=color:#f1fa8c>inline</span><span style=color:#ff79c6>\.</span><span style=color:#f1fa8c>svg</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>)</span><span style=color:#bd93f9>.</span><span style=color:#ff79c6>*\.</span><span style=color:#f1fa8c>svg</span><span style=color:#ff79c6>$</span><span style=color:#f1fa8c>/</span><span>,
</span><span>  loader: </span><span style=color:#f1fa8c>'url'
</span><span>}
</span></code></pre><p>Now, only SVG files ending with <code>.inline.svg</code> will be loaded as React components. You’re good to go!</div></article></div></body><script src=/footnotes.js></script>