<!doctype html><html class="scroll-smooth md:border-[10px] md:border-solid min-h-screen md:border-purple" lang=en><head><meta charset=utf-8><link href="/css/style.css?h=012c5f95ea1463230821" rel=stylesheet><meta content="width=device-width,initial-scale=1" name=viewport><title>5 Bibliotecas Essenciais para Desenvolver React Apps | Diéssica Gurskas</title><body class="text-gray-700 font-body antialiased"><div class="bg-blog px-3 md:px-10 min-h-[calc(100vh-16px)] lg:min-h-[calc(100vh-20px)]"><div class="py-12 mb-4 text-center space-x-8 text-md md:text-lg relative z-20"><a class="no-underline font-extrabold hover:border-green hover:border-b-2" href=/>diessi.ca</a><a class="no-underline hover:border-green hover:border-b-2 border-green border-b-2" href=/blog/>Blog</a><a class="no-underline hover:border-green hover:border-b-2" href=/misc/>Misc</a></div><article class="container mx-auto w-full xl:w-1/2 pb-8"><header class="xl:-mx-56 text-center mb-8 md:mb-12"><div class="uppercase tracking-widest opacity-60 mb-4 text-xs">March 21, 2016</div><h1 class="font-extrabold font-display text-3xl md:text-5xl xl:text-6xl text-slate-900">5 Bibliotecas Essenciais para Desenvolver React Apps</h1></header><div class="prose prose-sm md:prose 2xl:prose-lg prose-hr:text-red prose-hr:w-48 prose-hr:h-0.5 prose-hr:mx-auto prose-hr:my-4 prose-hr:bg-black prose-hr:opacity-20 prose-hr:border-0 prose-hr:rounded prose-hr:md:my-10 prose-pre:rounded-none prose-blockquote:border-0 prose-blockquote:text-center prose-blockquote:text-xl prose-blockquote:text-current tracking-tight mx-auto prose-headings:text-slate-800 prose-headings:w-max prose-headings:font-display prose-headings:font-extrabold"><p>O conjunto de ferramentas, boilerplates e bibliotecas disponíveis formam um ecossistema incrível em torno do React.<p>No meio de tudo, existem ferramentas que são comuns – e essenciais – a diversas aplicações, independente de suas arquiteturas. Cito cinco delas.<h2 id=1-classnames>1. <a href=https://www.npmjs.com/package/classnames>classnames</a></h2><p>Muitas vezes, no React, um estado representará um comportamento visual do componente (“selecionado”, “pressionado”, “focado”), normalmente associado a uma classe CSS.<p>Um botão e seus estados <em>disabled</em> e <em>hovered</em>, por exemplo, ficariam assim:<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span><</span><span style=color:#ff79c6>button
</span><span>  </span><span style=color:#50fa7b>type</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"submit"
</span><span>  </span><span style=color:#50fa7b>onMouseOver</span><span style=color:#ff79c6>={...}
</span><span>  </span><span style=color:#50fa7b>className</span><span style=color:#ff79c6>={</span><span style=color:#50fa7b>classNames</span><span>(</span><span style=color:#f1fa8c>'button'</span><span>, </span><span style=color:#bd93f9>this</span><span style=color:#ff79c6>.</span><span style=color:#fff>props</span><span style=color:#ff79c6>.</span><span>className, {
</span><span>    </span><span style=color:#f1fa8c>'button--disabled'</span><span>: </span><span style=color:#bd93f9>this</span><span style=color:#ff79c6>.</span><span style=color:#fff>state</span><span style=color:#ff79c6>.</span><span style=color:#fff>isDisabled</span><span>,
</span><span>    </span><span style=color:#f1fa8c>'button--hovered'</span><span>: </span><span style=color:#bd93f9>this</span><span style=color:#ff79c6>.</span><span style=color:#fff>state</span><span style=color:#ff79c6>.</span><span style=color:#fff>isHovered
</span><span>  })</span><span style=color:#ff79c6>}
</span><span>/>
</span></code></pre><p>Perceba que o Classnames facilita a manipulação condicional de classes com React, removendo vários blocos de <code>if</code>/<code>else</code> do seu código.<h2 id=2-react-router>2. <a href=https://www.npmjs.com/package/react-router>react-router</a></h2><p>Se você está desenvolvendo uma <em>Single-page Application</em>, você precisará sincronizar a interface do usuário com a URL.<p>O React Router é a melhor solução de rotas para aplicações desenvolvidas com React, e isso se deve bastante a sua API declarativa e pensada para componentes.<p>Considere a seguinte configuração de rotas:<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span style=color:#ff79c6>import </span><span style=color:#fff>React </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react"</span><span>;
</span><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>render </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react-dom"</span><span>;
</span><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>Router</span><span>, </span><span style=color:#fff>Route</span><span>, </span><span style=color:#fff>browserHistory </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"react-router"</span><span>;
</span><span>
</span><span style=color:#ff79c6>import </span><span style=color:#fff>App </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"components/App"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>Homepage </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"screens/Homepage"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>About </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"screens/About"</span><span>;
</span><span style=color:#ff79c6>import </span><span style=color:#fff>Contact </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"screens/Contact"</span><span>;
</span><span>
</span><span style=color:#50fa7b>render</span><span>(
</span><span>  <</span><span style=color:#66d9ef;font-style:italic>Router </span><span style=color:#50fa7b>history</span><span style=color:#ff79c6>={</span><span style=color:#fff>browserHistory</span><span style=color:#ff79c6>}</span><span>>
</span><span>    <</span><span style=color:#66d9ef;font-style:italic>Route </span><span style=color:#50fa7b>path</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"/" </span><span style=color:#50fa7b>component</span><span style=color:#ff79c6>={</span><span style=color:#fff>App</span><span style=color:#ff79c6>}</span><span>>
</span><span>      <</span><span style=color:#66d9ef;font-style:italic>IndexRoute </span><span style=color:#50fa7b>component</span><span style=color:#ff79c6>={</span><span style=color:#fff>Homepage</span><span style=color:#ff79c6>} </span><span>/>
</span><span>      <</span><span style=color:#66d9ef;font-style:italic>Route </span><span style=color:#50fa7b>path</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"about" </span><span style=color:#50fa7b>component</span><span style=color:#ff79c6>={</span><span style=color:#fff>About</span><span style=color:#ff79c6>} </span><span>/>
</span><span>      <</span><span style=color:#66d9ef;font-style:italic>Route </span><span style=color:#50fa7b>path</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"contact" </span><span style=color:#50fa7b>component</span><span style=color:#ff79c6>={</span><span style=color:#fff>Contact</span><span style=color:#ff79c6>} </span><span>/>
</span><span>    &LT/</span><span style=color:#66d9ef;font-style:italic>Route</span><span>>
</span><span>  &LT/</span><span style=color:#66d9ef;font-style:italic>Router</span><span>>,
</span><span>  document</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>getElementById</span><span>(</span><span style=color:#f1fa8c>"react-root"</span><span>)
</span><span>);
</span></code></pre><p>Perceba que há uma instância inicial da rota e outras rotas aninhadas, formando uma hierarquia. Essa hierarquia é a essência do React Router.<p>Considere que temos um App (<code>App.js</code>):<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span style=color:#ff79c6>import </span><span style=color:#fff>React</span><span>, { </span><span style=color:#fff>Component </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'react'
</span><span style=color:#ff79c6>import </span><span>{ </span><span style=color:#fff>IndexLink</span><span>, </span><span style=color:#fff>Link </span><span>} </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>'react-router'
</span><span>
</span><span style=color:#ff79c6;font-style:italic>class </span><span>App </span><span style=color:#ff79c6>extends </span><span style=color:#8be9fd;font-style:italic;text-decoration:underline>Component </span><span>{
</span><span>  </span><span style=color:#50fa7b>render</span><span>() {
</span><span>    </span><span style=color:#ff79c6>return </span><span>(
</span><span>      <</span><span style=color:#ff79c6>div</span><span>>
</span><span>        <</span><span style=color:#ff79c6>nav</span><span>>
</span><span>          <</span><span style=color:#66d9ef;font-style:italic>IndexLink </span><span style=color:#50fa7b>to</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"/"</span><span>>Homepage&LT/</span><span style=color:#ff79c6>li</span><span>>
</span><span>          <</span><span style=color:#66d9ef;font-style:italic>Link </span><span style=color:#50fa7b>to</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"/about"</span><span>>About&LT/</span><span style=color:#66d9ef;font-style:italic>Link</span><span>>
</span><span>          <</span><span style=color:#66d9ef;font-style:italic>Link </span><span style=color:#50fa7b>to</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"/contact"</span><span>>Contact&LT/</span><span style=color:#66d9ef;font-style:italic>Link</span><span>>
</span><span>        &LT/</span><span style=color:#ff79c6>nav</span><span>>
</span><span>
</span><span>        <</span><span style=color:#ff79c6>div</span><span>>
</span><span>          </span><span style=color:#ff79c6>{</span><span style=color:#bd93f9>this</span><span style=color:#ff79c6>.</span><span style=color:#fff>props</span><span style=color:#ff79c6>.</span><span style=color:#fff>children</span><span style=color:#ff79c6>}
</span><span>        &LT/</span><span style=color:#ff79c6>div</span><span>>
</span><span>      &LT/</span><span style=color:#ff79c6>div</span><span>>
</span><span>    )
</span><span>  }
</span><span>}
</span><span>
</span><span style=color:#ff79c6>export default </span><span style=color:#fff>App
</span></code></pre><p class=note><p><strong>Dica</strong>: O componente acima não tem um estado próprio, portanto, ele é um <em>Pure Component</em> (ou <em>Dumb Component</em>). Componentes sob estas condições podem – e devem – ser transformados em <em>Stateless Functional Components</em>. ^[Sugiro a leitura de <a href=https://medium.com/@joshblack/stateless-components-in-react-0-14-f9798f8b992d>Functional Stateless Components in React 0.14</a>]<p>Uma explicação rápida: Todas as subrotas da rota do componente <code>App</code> (os <code>&LTRoute></code> dentro de <code>&LTRoute></code>) terão seus componentes transferidos como props para o componente <code>App</code> (e por isso o <code>this.props.children</code>) ao entrar na rota através do <code>&LTLink></code>.<p>A <a href=https://github.com/reactjs/react-router/tree/1.0.x/docs>documentação do React Router</a> dispensa quaisquer outras explicações!<h2 id=3-react-helmet>3. <a href=https://www.npmjs.com/package/react-helmet>react-helmet</a></h2><p>Dificilmente você usará o React Router sem o Helmet. O Helmet te dá, no próprio componente, o controle do <code>head</code> do documento.<p>Um caso de uso simples é alterar o título do documento, útil quando a aplicação entra em uma nova rota:<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span><</span><span style=color:#66d9ef;font-style:italic>Helmet </span><span style=color:#50fa7b>title</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"Carrinho de Compras" </span><span>/>
</span></code></pre><h2 id=4-jsx-control-statements>4. <a href=https://www.npmjs.com/package/jsx-control-statements>jsx-control-statements</a></h2><p>JSX facilita a escrita da marcação do componente e torna seu código mais fácil de ler e entender. Mas e quando a renderização do componente é condicional? E quando renderizamos componentes dinamicamente?<p>Seu código termina provavelmente assim:<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span><</span><span style=color:#ff79c6>div</span><span>>
</span><span>  </span><span style=color:#ff79c6>{</span><span style=color:#fff>todos</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>map</span><span>(</span><span style=color:#8be9fd;font-style:italic>function </span><span>(</span><span style=color:#ffb86c;font-style:italic>todo</span><span>, </span><span style=color:#ffb86c;font-style:italic>index</span><span>) {
</span><span>    </span><span style=color:#ff79c6>return </span><span><</span><span style=color:#66d9ef;font-style:italic>TodoItem </span><span style=color:#50fa7b>data</span><span style=color:#ff79c6>={</span><span style=color:#fff>todo</span><span style=color:#ff79c6>} </span><span style=color:#50fa7b>key</span><span style=color:#ff79c6>={</span><span style=color:#fff>index</span><span style=color:#ff79c6>} </span><span>/>;
</span><span>  })</span><span style=color:#ff79c6>}
</span><span>&LT/</span><span style=color:#ff79c6>div</span><span>>
</span></code></pre><p>E assim:<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span><</span><span style=color:#ff79c6>div</span><span>></span><span style=color:#ff79c6>{</span><span style=color:#fff>condition </span><span style=color:#ff79c6>&& </span><span><</span><span style=color:#ff79c6>span</span><span>>&LT/</span><span style=color:#ff79c6>span</span><span>></span><span style=color:#ff79c6>}</span><span>&LT/</span><span style=color:#ff79c6>div</span><span>>
</span></code></pre><p>Ou de uma das várias outras formas: condicionais inline, operações ternárias, funções para renderizar componentes condicionalmente… Práticas que, em grande escala, podem prejudicar a legibilidade do código. E é na <strong>legibilidade</strong> que o jsx-control-statements vence.<p>O primeiro exemplo, por exemplo, ficaria assim:<pre class=language-tsx data-lang=tsx style=color:#f8f8f2;background-color:#282a36><code class=language-tsx data-lang=tsx><span><</span><span style=color:#ff79c6>div</span><span>>
</span><span>  <</span><span style=color:#66d9ef;font-style:italic>For </span><span style=color:#50fa7b>each</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"todo" </span><span style=color:#50fa7b>index</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>"index" </span><span style=color:#50fa7b>of</span><span style=color:#ff79c6>={</span><span style=color:#fff>todos</span><span style=color:#ff79c6>}</span><span>>
</span><span>    <</span><span style=color:#66d9ef;font-style:italic>TodoItem </span><span style=color:#50fa7b>data</span><span style=color:#ff79c6>={</span><span style=color:#fff>todo</span><span style=color:#ff79c6>} </span><span style=color:#50fa7b>key</span><span style=color:#ff79c6>={</span><span style=color:#fff>index</span><span style=color:#ff79c6>} </span><span>/>
</span><span>  &LT/</span><span style=color:#66d9ef;font-style:italic>For</span><span>>
</span><span>&LT/</span><span style=color:#ff79c6>div</span><span>>
</span></code></pre><h2 id=5-axios-ou-fetch-api>5. <a href=https://www.npmjs.com/package/axios>axios</a> ou Fetch API</h2><p>Não é uma dependência apenas de aplicações React, mas você provavelmente vai precisar de um cliente HTTP. (<strong>Um cliente HTTP de gente adulta</strong>, que não é o <code>$.ajax</code>.) Existem duas ótimas opções: <a href=https://www.npmjs.com/package/axios>axios</a> e o fetch (“<a href=https://fetch.spec.whatwg.org/>WHATWG Fetch API</a>”).<h3 id=axios>axios</h3><p>Uma biblioteca maravilhosa.<p>A API do axios é completa: têm interceptadores de requisição, múltiplas requisições em paralelo… E suas requisições retornam lindas promises.<p>Fazendo uma requisição <code>POST</code>:<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#ff79c6>import </span><span style=color:#fff>axios </span><span style=color:#ff79c6>from </span><span style=color:#f1fa8c>"axios"</span><span>;
</span><span>
</span><span style=color:#fff>axios
</span><span>  </span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>post</span><span>(
</span><span>    </span><span style=color:#f1fa8c>"/api/pets"</span><span>,
</span><span>    { name: </span><span style=color:#f1fa8c>"Bard"</span><span>, cat: </span><span style=color:#bd93f9>false </span><span>},
</span><span>    { headers: { </span><span style=color:#f1fa8c>"X-Custom-Header"</span><span>: </span><span style=color:#f1fa8c>"foobar" </span><span>} }
</span><span>  )
</span><span>  </span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>then</span><span>(() </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>"Pet salvo com sucesso!"</span><span>))
</span><span>  </span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>catch</span><span>((</span><span style=color:#ffb86c;font-style:italic>response</span><span>) </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#fff>response</span><span>));
</span></code></pre><h3 id=fetch-api>Fetch API</h3><p>O fetch, por outro lado, já é um <em><a href=https://fetch.spec.whatwg.org/>living standard</a></em>, e, nesse momento, tem suporte básico nos navegadores Firefox, Chrome e Opera. É recomendado, no entanto, o uso de um <a href=https://www.npmjs.com/package/isomorphic-fetch>polyfill</a>, por ser uma tecnologia ainda experimental.<p>A mesma requisição <code>POST</code> ficaria assim:<pre class=language-js data-lang=js style=color:#f8f8f2;background-color:#282a36><code class=language-js data-lang=js><span style=color:#50fa7b>fetch</span><span>(</span><span style=color:#f1fa8c>"/api/pets"</span><span>, {
</span><span>  method: </span><span style=color:#f1fa8c>"post"</span><span>,
</span><span>  headers: { </span><span style=color:#f1fa8c>"X-Custom-Header"</span><span>: </span><span style=color:#f1fa8c>"foobar" </span><span>},
</span><span>  body: { name: </span><span style=color:#f1fa8c>"Bard"</span><span>, cat: </span><span style=color:#bd93f9>false </span><span>},
</span><span>})
</span><span>  </span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>then</span><span>(() </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#f1fa8c>"Pet salvo com sucesso!"</span><span>))
</span><span>  </span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>catch</span><span>((</span><span style=color:#ffb86c;font-style:italic>response</span><span>) </span><span style=color:#8be9fd;font-style:italic>=> </span><span style=color:#66d9ef;font-style:italic>console</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd>log</span><span>(</span><span style=color:#fff>response</span><span>));
</span></code></pre><p class=note><p>Você pode saber mais sobre o Fetch API no <a href=https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API>Mozilla Developer Network</a>.<h2 id=consideracoes>Considerações</h2><p>Embora eu tenha citado apenas cinco, existem diversas bibliotecas e componentes que descomplicam o processo de desenvolvimento de uma aplicação com React. Sem dúvidas, é um dos ecossistemas mais relevantes que front-end já teve.<p>Destaco que não cobri um tópico que, quando se trata de React, é bastante pertinente: formulários. <strong>Lidar com formulários no React é complicado.</strong> Nesse primeiro momento, resolvi deixar o tema de lado para não fugir da proposta do artigo.</div></article></div></body><script src=/footnotes.js></script>